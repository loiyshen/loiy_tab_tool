<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>芦艺标签页分组工具</title>
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <div class="container">
        <!-- Toast Host: 悬浮顶部，不影响布局 -->
        <div id="toastHost" aria-live="polite"></div>

        <h1>芦艺标签页分组工具</h1>
        <!-- 添加/编辑表单：默认显示 -->
        <div id="groupSettings" class="group-form">
            <h2>添加/编辑规则</h2>
            <div class="input-group">
                <input type="text" id="domain" class="input-field" placeholder="输入域名 (例如: google.com)" maxlength="64" />
                <input type="text" id="groupName" class="input-field" placeholder="分组名称" maxlength="24" />
                <select id="groupColor" class="input-field input-color">
                    <option value="grey">灰色</option>
                    <option value="blue">蓝色</option>
                    <option value="red">红色</option>
                    <option value="yellow">黄色</option>
                    <option value="green">绿色</option>
                    <option value="pink">粉色</option>
                    <option value="purple">紫色</option>
                    <option value="cyan">青色</option>
                </select>
            </div>
            <div class="button-group">
                <button id="addGroup" class="btn">添加规则</button>
                <button id="getCurDomain" class="btn">获取域名</button>
                <button id="updateGroup" class="btn hidden">更新规则</button>
                <button id="cancelUpdate" class="btn hidden">取消</button>
            </div>
        </div>
        <!-- 导入/导出表单：默认隐藏 -->
        <div id="importExportPanel" class="group-form hidden" aria-label="导入导出规则">
            <h2>导入/导出规则</h2>
            <div class="input-group">
                <div class="file-picker">
                    <input type="file" id="importFile" accept=".json" />
                    <label for="importFile" class="file-btn">选择文件</label>
                    <span id="selectedFileName" class="file-name">请选择JSON文件</span>
                </div>

                <!-- 次要操作单独一行（浅色背景） -->
                <div class="button-row secondary">
                    <button id="importFromTemplateBtn" class="btn-secondary">从预设模板导入</button>
                </div>

                <!-- 主要操作一行两枚按钮 -->
                <div class="button-row primary">
                    <button id="doImportBtn" class="btn-primary">导入</button>
                    <button id="doExportBtn" class="btn-primary">导出</button>
                </div>
            </div>
        </div>
        <h2>分组规则列表</h2>
        <div id="groupList" class="group-list"></div>

        <!-- 底部居中：导入/导出规则 按钮 -->
        <div class="bottom-center">
            <!-- 底部单一切换按钮：根据当前模式动态更新文案 -->
            <button id="toggleImportExportBtn" class="btn">切换到导入/导出模式</button>
        </div>
    </div>
    <script src="../shared/colors.js"></script>
    <script src="./index.js"></script>
</body>

</html>